@model Barometer_ASP_NET.Wrappers.UserProjectWrapper
@{
    ViewBag.Title = "Project";


}


	<script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
        google.load("visualization", "1", { packages: ["corechart"] });
        google.setOnLoadCallback(drawChart);
        function drawChart() {
            var data = google.visualization.arrayToDataTable([
              ['Onderdeel', 'BDS', 'System use cases', 'Prototypes', 'Requirement Analyse', 'Functioneel Ontwerp'],
              ['Week 3', 6, 7, 7, 6, 6],
              ['Week 6', 5, 6, 7, 7, 7],
              ['Week 9', 7, 8, 9, 10, 10]
            ]);

            var options = {
                title: 'Voortgang Inhoudelijke kennis',
                min: 1,
                max: 10,
                vAxis: {
                    gridlines: {
                        count: 10
                    }
                },
                seriesType: "bars",
                series: { 5: { type: "line" } }
            };

            var chart = new google.visualization.ComboChart(document.getElementById('chart_div_1'));
            chart.draw(data, options);


            data = google.visualization.arrayToDataTable([
                ['Onderdeel', 'Inzet/motivatie', 'Inzicht eigen functioneren', 'Samenwerken', 'Schriftelijk communiceren', 'Mondeling communiceren', 'Projectmatig werken'],
                ['Week 3', 5, 6, 4, 7, 4, 6],
                ['Week 6', 6, 7, 7, 6, 7, 7],
                ['Week 9', 8, 9, 10, 10, 9, 10]
            ]);
            options = {
                title: 'Voortgang werken als professional',
                min: 1,
                max: 10,
                vAxis: {
                    gridlines: {
                        count: 10
                    }
                }
            };

            chart = new google.visualization.ColumnChart(document.getElementById('chart_div_2'));
            chart.draw(data, options);


        }






        chart_div_prof
    </script>

 @* @{ var count = 1;
       var headAspectId = 0; }
    @{var amountOf = 0;
      foreach (var v in Model.ThirdDictionary)
      {
          amountOf++;
      }}

    google.load("visualization", "1", { packages: ["corechart"] });
    google.setOnLoadCallback(drawChart);
    function drawChart() {
        @foreach (KeyValuePair<BarometerDataAccesLayer.BaroAspect, Dictionary<BarometerDataAccesLayer.ProjectReportDate, Dictionary<BarometerDataAccesLayer.Report, int>>> chart in Model.Grades)
{
    headAspectId = chart.Key.id; 
       <text>

            var d = []
            var data = google.visualization.arrayToDataTable([
            [@{
            
                   
    for (int i = 0; i < Model.AspectNames[headAspectId].Count - 1; i++)
    {
        var grades = Model.AspectNames[headAspectId].ElementAt(i);
      
                     <text>'@grades',</text> 
    }
                <text>'@Model.AspectNames[headAspectId].Last()'</text>
                }
            ],
           
    @for (int i = 0; i < Model.SecondDictionary.Count - 1; i++)
    {
        var dates = Model.SecondDictionary.ElementAt(i);
                    <text>['@dates.Key.week_label'</text>
        foreach (KeyValuePair<BarometerDataAccesLayer.Report, int> grades in dates.Value)
        {
                   <text>,@grades.Value</text> 
        }
         <text>],</text>
    }          
                ['@Model.SecondDictionary.Last().Key.week_label'
   @foreach (KeyValuePair<BarometerDataAccesLayer.Report, int> grades in Model.SecondDictionary.Last().Value)
    {
                    <text>,@grades.Value</text>
    }
                ]
            
            ]);
            
            
            
        var options = {
            title: '@chart.Key.name',
                min: 1,
                max: 10,
                vAxis: {
                    gridlines: {
                        count: 10
                    }
                },
                seriesType: "bars",
                series: { 5: { type: "line" } }
            };

            var chart = new google.visualization.ComboChart(document.getElementById('chart_div_</text>@count<text>'));
    chart.draw(data, options);

    </text>
    count++;
}
    }*@

<div class="row">
    <div class="col-lg-12">
        <h2>@Model.CurrentProjectName <small>(@Model.CurrentProjectDate)</small></h2>
        <hr />
    </div>
</div>
<div class="row">
    <div class="col-lg-4">

        <h4><i>Info</i></h4>
        <table class="table table-bordered">
            <tbody>
                <tr>
                    <td>Omschrijving</td>
                    <td>@Model.CurrentProjectSummary</td>
                </tr>
                <tr>
                    <td>Docenten</td>
                    <td>
                        @foreach (var u in Model.ProjectOwners)
                        {
                            <a href="mailto:@u.email" title="Mail docent">@u.firstname @u.lastname</a><br />
                        }
                    </td>
                </tr>
                <tr>
                    <td>Eindcijfer</td>
                    @if ((double)Model.CurrentProjectGroupGrade > 5.5)
                    {<td><span class="label label-success">@Model.CurrentProjectGroupGrade</span></td>}
                    else if ((double)Model.CurrentProjectGroupGrade < 5.5)
                    {<td><span class="label label-danger">@Model.CurrentProjectGroupGrade</span></td>}
                </tr>
                <tr>
                    <td>Eindcijfer individueel</td>
                    @if ((double)Model.CurrentProjectIndividualGrade > 5.5)
                    {<td><span class="label label-success">@Model.CurrentProjectIndividualGrade</span></td>}
                    else if ((double)Model.CurrentProjectIndividualGrade < 5.5)
                    {<td><span class="label label-danger">@Model.CurrentProjectIndividualGrade</span></td>}
                </tr>
            </tbody>
        </table>


        <h4><i>Groepsleden</i></h4>
        <table class="table table-bordered table-members table-centered">
            <tbody>
                <tr>
                    <td colspan="3"><b>Tutor</b></td>
                </tr>
                @foreach (var u in Model.Tutors)
                {
                    <tr>
                        <td>
                            <img src="../../images/pf.jpg" alt="..." class="img-circle"></td>
                        <td colspan="2">@u.firstname @u.lastname</td>
                    </tr>
                }
                <tr>
                    <td colspan="3"><b>Leden</b></td>
                </tr>
                @foreach (var u in Model.ProjectMembers)
                {
                    <tr>
                        <td>
                            <img src="../../images/pf.jpg" alt="..." class="img-circle"></td>
                        <td>@u.firstname @u.lastname</td>
                        <td>
                            <a title="Beoordeling van @u.firstname @u.lastname" class="displayBaroWidget" 
                                data-modal-id="modal-baro-widget" 
                                data-reporter-id="@u.id" 
                                data-subject-id="@Model.StudentNumber" 
                                data-project-id="@Model.CurrentProjectId">
                                <span class="glyphicon glyphicon-eye-open"></span>
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>

    </div>


    <div class="col-lg-8">
        <h4><i>Voortgang</i></h4>
        <div id="charts">

            <div id="chart_div_1" style="position: relative; width: 100%;"></div>
            <div id="chart_div_2" style="position: relative; width: 100%"></div>

        </div>
    </div>
</div>

<div class="modal fade" id="modal-baro-widget" tabindex="-1" role="dialog" aria-hidden="true" aria-labelledby="model-baroLabel">
    <div class="modal-dialog">
        <div class="modal-content">
        </div>
    </div>
</div>
